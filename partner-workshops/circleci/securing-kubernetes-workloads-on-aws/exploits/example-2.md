# Example 2

Our second example vulnerability is with the [`marked`](https://www.npmjs.com/package/marked) [npm](https://www.npmjs.com/) package. This is a module for parsing markdown. The issue here is that we are using `marked@0.3.5` and this has a [Cross-site Scripting \(XSS\)](https://snyk.io/vuln/npm:marked:20150520) vulnerability.

![](../../../../.gitbook/assets/vuln_marked.png)

How this is used in our sample application is that it allows for us to take Markdown input and convert this to HTML. This enables us to add items to our list with emphasis such as **bold** or add links.

![](http://g.recordit.co/5EUgGYBNXq.gif)



So where is the vulnerability? Let's take a look through the following example. We are going to add another link to our list, but this time, we will include `javascript`. 

```javascript
[Gotcha](javascript:alert(1))
```

This will not work. So we can substitute with [HTML entities](https://dev.w3.org/html5/html-author/charref). For example, `:` becomes `&#58;` and `)` becomes `&#41;`.

```javascript
[Gotcha](javascript&#58;alert(1&#41;)
```

This too will not work and the output will get trimmed. So, we will break this up by typing `this` in our string. Our `marked` package will let this through and our browser will forgive our mistake.

```javascript
[Gotcha](javascript&#58this;alert(1&#41;)
```

The result would look like this:

![](http://g.recordit.co/plmfP4ZqNU.gif)

Now, if we click on the link we will see the `javascript` alert pop-up.

![](../../../../.gitbook/assets/goof_marked.png)

This is a crude example, but demonstrates the potential for something much more sophisticated to be introduced and significantly compromise security.

